##辐射噪声信号 

**船舶噪声的度量** https://mp.weixin.qq.com/s/FHoK5UhzST62D-dYnmqFXw

声压：由于声波的存在而产生的压力增值。

测量：声呐、水听器

**船舶辐射噪声**

螺旋桨的空化噪声：指在水中运行时，螺旋桨叶片表面的气泡在脱离水面时产生的噪声。当螺旋桨旋转时，叶片在水中运动会产生气泡，这些气泡在脱离水面时会破裂，产生高频噪声。这种噪声称为空化噪声，是船舶在水中运行时产生的一种特殊噪声。

船舶噪声的频率大致分布在20 Hz到20 kHz的范围内。这个范围涵盖了人类能够听到的频率范围，因此船舶噪声会在这个范围内产生不同频率的声音。

> https://mp.weixin.qq.com/s/YcwNUBD2cpqcMMEcSTlvhg
>
> https://mp.weixin.qq.com/s/EKyF8vWA8N6Uok4JqThb6w



##理论基础

SOFAR, sound fixing and ranging，深海水声通道 ==有意思哈==

水中的声速呈现一个先降低后提高的结果，这主要是由于水的温度、盐度和压力这三个因素综合作用的结果。这种现象通常在海洋中较为明显，其中声速随深度变化的特性被称为声速剖面（Sound Speed Profile, SSP）。声速剖面通常呈现出一个随深度增加先降低后增加的趋势，这主要是由以下几个原因导致的：

1. **温度影响**：在海洋表层，水温较高，随着深度增加，水温下降。水中声速随温度的升高而增加，因此，在表层由于温度较高，声速相对较快。随着深度的增加，水温下降，声速开始减慢。这是声速先降低的主要原因。

2. **压力影响**：随着深度的增加，水压也随之增加。压力的增加会导致水的密度增加，进而使声速增加。在一定深度之后，尽管温度继续降低，但压力的增加对声速的影响开始占据主导，导致声速开始增加。

3. **盐度影响**：盐度也会影响声速，但其影响相对于温度和压力较小。在海水中，盐度的变化也会对声速产生一定的影响，但主要还是温度和压力的综合作用导致声速呈现出先降低后提高的趋势。

总而言之，水中声速的这种变化趋势是温度下降导致的声速减慢和随后由于水压增加导致的声速增加两个相反效应的综合结果。在某个深度（称为声速最小层或深声道轴），声速达到最小值，之后随深度增加而增加。这种现象对海洋声学探测和通信有重要的影响。







##声呐简介

主动声呐：声呐基阵、收发转换器、接收机、指示器、发射器、定时中心、控制同步设备等七个部分组成

被动声呐：只收不发，被动接受舰船等水中目标的辐射噪声和水声设备发射出的信号，以测定目标的方位和距离，由简单的水听器演变而来，系统核心是用来测听目标声波的水听器。

**来源于军事中的反潜需求**

美国SOSUS反潜系统、LOFAR的缘由

- https://mp.weixin.qq.com/s/lCEYF5cSxOa50tCzym33kg

- https://mp.weixin.qq.com/s/fZXRFGUWKCdRgxEz1JEhyw

- SOSUS，sound surveillance system



声呐系统

- https://mp.weixin.qq.com/s/IxUyS_xTSU7rKiVwCACnkA

- https://mp.weixin.qq.com/s/y40tbgOkGevfb1vSCNvPHA
- 潜艇声呐瀑布图 https://www.bilibili.com/video/BV1Ys4y1Q7aU



声呐浮标系统

- https://mp.weixin.qq.com/s/h2xg0PGbr23jFEyynQBtEw

- https://www.bilibili.com/video/BV1Yd4y1Z7wb 声呐浮标视频 
- https://www.bilibili.com/video/BV1uU4y1M7iB





##应用场景

声呐潜浮标通常在以下情况下被投放：

1. **反潜作战（ASW）**：这是声呐潜浮标最常见的用途。在怀疑敌方潜艇活动的区域，通过投放声呐潜浮标来探测和追踪潜艇。它们可以提供**实时数据**，帮助反潜舰艇、飞机或潜艇定位目标。

2. **海洋研究**：声呐潜浮标也用于海洋学研究，包括海洋生物调查、海底地形测绘以及海洋声学环境的研究。通过收集声学数据，科学家可以更好地了解海洋环境和其中的生物。

3. **搜救行动**：在搜救失事船只或飞机的行动中，声呐潜浮标可以用来探测水下声音，帮助确定失事位置。特别是在搜寻失联潜艇时，声呐潜浮标能够提供关键的声学信息。

4. **海洋监控**：为了监控特定海域的船只活动，防止非法捕鱼、走私或海盗行为，声呐潜浮标可以作为一种监控工具被部署。

5. **核试验监测**：国际社会利用声呐潜浮标等设备监测海底核试验，以确保遵守国际条约。声呐潜浮标可以探测到由核试验产生的声波，从而提供监测数据。

6. **航行安全**：在一些特定海域，如狭窄的航道或有潜在危险的海区（如冰山频发区），声呐潜浮标可以用来提供航行安全信息，帮助船只避免碰撞或搁浅。

7. **军事演习**：在军事演习中，声呐潜浮标被用来模拟敌方潜艇的探测和跟踪，以训练和评估反潜作战能力。

声呐潜浮标的投放通常由反潜巡逻机、直升机或舰艇执行，它们能够在水下长时间工作，为上述任务提供关键的声学数据。





## 工作流程

声呐水听器到最终的目标识别过程涉及多个步骤，每一步都是信号处理链的重要环节，通常由特定的硬件元件执行，并采用相应的技术和算法。以下是整个流程的简化版，以及每个步骤常用的元器件和技术：

### 1. **声波的接收**
- **元器件**：水听器（Hydrophone）
- **技术/算法**：水听器利用压电效应将接收到的声波转换为电信号。在这一阶段，没有使用复杂的算法，主要是物理效应的直接转换。

### 2. **信号预处理**
- **元器件**：前置放大器、模拟-数字转换器（ADC）、FPGA或DSP
- **技术/算法**：信号预处理包括放大、滤波和数字化。放大是通过前置放大器完成，以增强微弱的信号；滤波（通常是带通滤波）去除噪声；数字化由ADC执行，将模拟信号转换为数字信号以便后续处理。

### 3. **数字信号处理**
- **元器件**：FPGA、DSP
- **技术/算法**：
  - **快速傅里叶变换（FFT）**：用于信号的频域分析，识别信号中的频率成分。
  - **信号检测**：通过算法检测有意义的信号，如匹配滤波器，用于提高信号与噪声比（SNR）。
  - **波束形成**：如果使用阵列水听器，波束形成技术可以用来定向接收或发送声波，增强特定方向的信号。

### 4. **特征提取**
- **元器件**：FPGA、DSP
- **技术/算法**：
  - **统计分析**：提取信号的统计特性，如均值、方差等。
  - **时频分析**：进一步分析信号的时频特性，如小波变换。

### 5. **目标识别**
- **元器件**：通用处理器（如ARM处理器）、FPGA、DSP
- **技术/算法**：
  - **机器学习/深度学习**：训练模型以识别特定的目标特征，如使用卷积神经网络（CNN）进行图像或声纹识别。
  - **模式匹配**：将提取的特征与已知目标特征进行匹配，以识别目标。

### 6. **决策与输出**
- **元器件**：通用处理器、FPGA、DSP
- **技术/算法**：
  - **决策逻辑**：基于目标识别结果执行决策逻辑，如分类、跟踪或定位。
  - **用户界面**：将决策结果通过用户界面展示给操作员，或者发送给其他系统进行进一步的处理。

这个流程涉及从物理信号的接收到数字信号的处理和分析，最终实现目标的识别和决策。每一步都依赖于特定的硬件元件和相应的算法，共同工作以实现高效准确的目标识别。在现代声呐系统中，通过优化这些步骤中的算法和硬件配置，可以显著提高系统的性能和准确性。



##潜标、浮标

声呐潜标系统（Sonobuoy System）是一种水下声学探测系统，广泛应用于海洋研究、潜艇探测、海洋生物调查等领域。一个典型的声呐潜标系统一般由以下几个部分或功能组件组成：

1. **潜标本体**：潜标是声呐潜标系统的主体，通常包含传感器、信号处理模块、通信模块和电源。它们被设计成可以从舰船、飞机或其他平台投放到水中，进入水后自动展开并开始工作。

2. **传感器**：传感器是潜标系统中用于收集水下声音的关键部分，通常是水听器（Hydrophone）或阵列。它们能够捕捉来自水下目标的声音信号，如潜艇、鱼群、船只等。

3. **信号处理模块**：信号处理模块对收集到的声音信号进行预处理、放大、滤波等操作，以提高信号的质量和可用性。

4. **通信模块**：通信模块负责将处理后的数据通过无线电信号发送到接收站或母舰上。这可能包括VHF/UHF无线电、卫星通信等方式。

5. **电源**：电源为潜标的各项功能提供所需的电能。通常使用电池作为电源，其设计要确保足够的工作时间。

6. **浮标和锚定系统**：部分潜标设有浮标和锚定系统，用于定位和稳定潜标的位置，防止其随水流漂移。

**核心功能组件**：
- 在声呐潜标系统中，**传感器（水听器或阵列）**和**信号处理模块**是核心功能组件。传感器直接关系到系统的探测能力和探测范围，而信号处理模块则决定了信号的处理效率和质量。

**局限性**：
1. **探测范围限制**：声呐潜标的探测范围受到其传感器性能和水下声音传播特性的限制。
2. **数据传输限制**：数据传输距离和速率可能受到限制，特别是在恶劣的海洋环境下。
3. **电源限制**：电源的容量限制了潜标的持续工作时间，一旦电源耗尽，潜标就会失去功能。
4. **环境影响**：水下环境复杂多变（如温度、盐度、深度、海流等），这些因素都可能影响声呐潜标系统的性能。
5. **干扰和噪声**：水下环境中的背景噪声和人为干扰可能会影响声呐潜标系统的探测效果。



##潜标能耗

在声呐潜标系统中，各个模块的能耗分布会根据具体设计和使用的技术有所不同。然而，可以提供一个大致的能耗分布估计，以供参考。请注意，这些数字是基于一般情况的估计，实际情况可能会因设计和使用环境的不同而有所变化。

1. **传感器（水听器或阵列）**：约5-10%。虽然传感器是系统的核心，但它们主要用于接收声音信号，本身的能耗相对较低。

2. **信号处理模块**：约30-40%。信号处理模块需要执行数据采集、放大、滤波、编码等操作，这些操作涉及到一定的计算处理，因此能耗相对较高。

3. **通信模块**：约30-50%。通信模块在数据传输时，尤其是在使用卫星通信或进行长距离无线电传输时，能耗较高。这部分的能耗占比可能是最大的，尤其是在数据传输频繁或需要远距离传输的应用中。

4. **电源**：虽然电源本身不消耗能量，但需要为所有模块提供电能。电源容量的选择会影响到整个系统的能耗管理和工作时间。

5. **浮标和锚定系统**：约5-10%。这些部分的能耗相对较低，主要是因为它们不涉及复杂的电子操作，但如果包含机械调整设备则能耗可能略有增加。

总结来说，信号处理模块和通信模块是声呐潜标系统中能耗最高的部分，它们的能耗占比可以达到系统总能耗的60-90%。在设计和优化声呐潜标系统时，降低这两个模块的能耗是提高系统整体能效和工作时长的关键。



##FPGA功耗

现场可编程门阵列（Field-Programmable Gate Array, FPGA）的功耗主要取决于以下几个因素：

1. **工作频率**：FPGA内部逻辑和时钟的工作频率越高，其功耗也越大。这是因为电路在更高频率下切换时，需要更多的电力来克服内部电容的充放电。

2. **逻辑资源使用率**：使用的逻辑资源越多，功耗相应增加。这包括查找表（LUTs）、寄存器、布线资源等。高密度的逻辑实现意味着更多的电路参与计算，从而增加功耗。

3. **信号切换活动**：信号在逻辑门和寄存器之间的切换频率越高，功耗越大。这是因为每次信号切换都需要能量来克服电容的充放电。

4. **I/O操作**：外部接口（如输入/输出端口）的操作也会影响功耗。频繁的I/O操作会增加功耗，尤其是在高速接口上。

5. **电源电压**：FPGA的电源电压越高，功耗也越高。虽然增加电源电压可以提高FPGA的性能，但同时也会显著增加功耗。

6. **静态功耗**：即使在没有任何逻辑切换活动时，FPGA也会消耗电力，这部分功耗称为静态功耗，主要由漏电流引起。

7. **温度**：温度的升高会增加FPGA的静态功耗，因为漏电流随温度升高而增加。

8. **设计优化**：设计中的时钟管理策略、电源管理技术和逻辑优化也会显著影响功耗。良好的设计可以通过减少不必要的逻辑和时钟活动、使用低功耗设计技术等方法来降低功耗。

因此，降低FPGA的功耗涉及到对工作频率、逻辑设计、电源管理等多方面的优化。通过在设计阶段考虑这些因素，可以有效地管理和减少FPGA的总体功耗。



##FPGA功耗优化

在FPGA上实现16K点FFT（快速傅里叶变换）的实时性分析处理，同时尽可能降低功耗，涉及到多个方面的优化。以下是一些可能的解决方案：

### 1. 算法优化

- **流水线设计**：通过将FFT算法流水线化，可以在较低的时钟频率下实现高吞吐量，从而降低功耗。
- **资源共享**：设计时考虑FFT计算中可重用的组件（如蝶形运算单元），以减少所需的逻辑资源和相应的功耗。
- **定点运算**：相较于浮点运算，定点运算可以显著降低功耗。根据应用需求适当选择定点精度，以平衡性能和功耗。

### 2. 电源管理

- **动态电源管理**：在FPGA设计中实现动态电源管理，比如动态调整电源电压和关闭不活跃逻辑的电源，以减少静态功耗和动态功耗。
- **时钟门控技术**：对不活动的模块使用时钟门控，暂时关闭其时钟，减少不必要的功耗。

### 3. 设计优化

- **低功耗时钟设计**：优化时钟树设计，减少时钟分布的功耗，通过使用低功耗时钟缓冲和分配策略来实现。
- **适当的资源分配**：合理分配FPGA内的资源，避免过度使用造成的额外功耗，比如合理安排布线以减少信号传播延迟和功耗。
- **温度管理**：通过有效的温度管理减少因温度升高导致的静态功耗，包括改善PCB布局和散热设计。

### 4. 工具和技术支持

- **利用EDA工具**：现代EDA工具提供了许多功耗分析和优化功能，可以在设计阶段预测和降低功耗。
- **低功耗设计技术**：采用低功耗设计标准和技术，如IEEE 1801-2013（UPF），来指导和优化设计。

### 5. 逻辑和存储优化

- **压缩技术**：应用数据压缩技术减少需要处理的数据量，从而降低功耗。
- **存储优化**：优化数据存储和访问策略，减少对高功耗存储资源的需求。

通过上述方法的综合应用，可以在保证实时性分析处理能力的同时，有效降低FPGA上实现16K点FFT的功耗。每个项目的具体情况可能不同，因此在设计初期进行全面的功耗评估和规划是非常重要的。





##Why-FPGA

在潜标声呐系统的信号预处理阶段，选择在FPGA上实现16K点的FFT，通常是基于以下几个考虑：

### 1. **实时处理能力**
FPGA能够提供高性能的并行处理能力，这对于实时信号处理来说至关重要。16K点FFT是一项计算密集型任务，FPGA可以同时处理多路数据流，确保信号预处理阶段的实时性和低延迟。

### 2. **高效能耗比**
相比于传统的CPU或GPU，FPGA在处理特定任务（如FFT）时通常能提供更高的能效比。这是因为FPGA上的硬件逻辑可以被精确地定制和优化，以执行特定的算法，从而减少不必要的功耗。

### 3. **灵活性和可重配置性**
FPGA的可重配置性允许开发者根据需求调整和优化硬件逻辑，以适应不同的应用场景和性能要求。这种灵活性使得在项目的不同阶段或面对新的技术要求时，可以通过更新FPGA固件来快速适应，而无需更换硬件。

### 4. **稳定性和可靠性**
在恶劣的海洋环境中，FPGA的稳定性和可靠性对于潜标声呐系统至关重要。FPGA没有复杂的操作系统，减少了系统崩溃的风险，能够在极端环境下持续稳定工作。

### 5. **紧凑的尺寸和低功耗设计**
对于潜标系统而言，设备的尺寸和功耗是重要考量因素。FPGA可以实现紧凑的设计，集成大量的信号处理功能，同时保持低功耗，这对于需要长期部署在海洋环境中的设备尤为重要。

### 6. **定制化处理流程**
FPGA允许开发者定制化处理流程，例如在FFT之前进行特定的滤波或信号增强，以提高信号处理的准确性和效率。这种定制化程度是传统处理器难以匹配的。

综上所述，基于实时处理能力、高效能耗比、灵活性、稳定性、紧凑的尺寸与低功耗设计，以及定制化处理流程的考虑，FPGA成为潜标声呐系统信号预处理阶段的理想选择。

##水听器

水听器（Hydrophone）是一种专门设计用于水下环境中检测声音的设备。它能够将水中的声波转换成电信号，广泛应用于海洋研究、水下通信、以及海洋生物监测等领域。水听器的内部主要由以下几个关键组成部分构成：

1. **压电传感器或声电转换器**：这是水听器的核心部分，用于将声波转换为电信号。压电传感器利用压电效应，当声波作用于传感器时，产生电压变化，从而将声波转换为电信号。声电转换器可能采用其他原理，如电磁或光学，但压电型是最常见的。

2. **前置放大器**：由于从压电传感器获得的电信号通常非常微弱，需要通过前置放大器进行放大，以便于进一步的处理和分析。

3. **封装材料**：水听器的内部组件被封装在防水材料中，以保护内部敏感元件不受水压和海水腐蚀的影响。封装材料需要具有良好的声学透明性，以最小化声波在传感器表面的反射和吸收。

4. **信号处理电路**：在一些高级水听器中，可能会包含用于信号过滤、增强和数字化的电路。这些电路可以帮助改善信号的质量，以及方便信号的存储和远程传输。

5. **电源**：水听器需要电源来供电给前置放大器和信号处理电路。电源可以是内置的电池，也可以通过外部电源线供电。

6. **外壳和机械部件**：外壳保护内部电子元件不受外部环境的影响，同时也为水听器提供了固定和安装的机制。外壳材料通常选择对声波影响小，且能承受高压的材料。

7. **输出接口**：用于将水听器的电信号输出到外部设备，如数据记录器、分析器或计算机系统。输出接口可能是模拟信号输出，也可能是数字信号输出，具体取决于水听器的设计。

水听器的设计和性能可以根据其应用领域的不同而有所差异，但上述组件是构成大多数水听器的基础。

**信号处理电路板**是电子系统中的核心部分，用于处理和操纵电子信号。这种电路板上一般会包含多种原件，以实现信号的放大、过滤、转换、和数字处理等功能。以下是一些在信号处理电路板上常见的原件：

1. **微处理器或微控制器**：作为信号处理的核心，负责执行数字信号处理算法，如傅里叶变换、滤波、编码解码等。

2. **模拟-数字转换器（ADC）**：将模拟信号转换为数字信号，以便微处理器处理。

3. **数字-模拟转换器（DAC）**：将处理后的数字信号转换回模拟信号，用于输出。

4. **运算放大器（Op-Amps）**：用于信号的放大、滤波和信号条件调整。它们是模拟信号处理中的基本构件。

5. **电阻和电容**：这些被动组件用于构建滤波器、设定时间常数、调整信号电平等。

6. **晶体振荡器**：提供精确的时钟信号给微处理器和其他时钟敏感的电路。

7. **电源管理IC**：包括稳压器和开关电源供应器，用于为电路板上的不同组件提供稳定的电源。

8. **存储器**：如闪存、EEPROM或SDRAM，用于存储程序代码、临时数据和信号处理的结果。

9. **数字逻辑IC**：如门电路、触发器和寄存器，用于执行简单的逻辑操作和信号的时间控制。

10. **接口IC**：如串行通讯接口（SPI, I2C）、USB、以太网控制器等，用于与其他电路板或外部设备的数据交换。

11. **滤波器元件**：包括电感、电阻、电容和有时是专用的滤波器IC，用于去除信号中的噪声或进行频率选择。

12. **保护元件**：如瞬态电压抑制器（TVS二极管）、保险丝和过流保护器，用于防止电路受到电压冲击和过电流的损害。

这些原件共同工作，实现信号的采集、处理、转换和输出，为各种应用提供必要的信号处理功能。设计信号处理电路板时，选择合适的原件非常关键，这直接影响到系统的性能、功耗和成本。

##预处理阶段

在潜标系统中，水听器接收到的噪声信号预处理阶段的FFT（快速傅里叶变换）操作通常由专为高速信号处理设计的芯片承担，主要包括以下几种类型：

### 1. **FPGA（现场可编程门阵列）**
FPGA是在潜标系统信号预处理阶段执行FFT操作的常见选择，主要因为其高度的灵活性、并行处理能力和可重配置性。FPGA可以被编程来执行特定的信号处理任务，如FFT，且可以在不更换硬件的情况下更新其功能，以适应新的需求或改进算法。

### 2. **DSP（数字信号处理器）**
DSP芯片专门设计用于高效执行如FFT这类复杂的数学运算和信号处理任务。它们具有专用的硬件乘加单元，可以高效地处理信号转换任务。DSP适用于对处理延迟和功耗有严格要求的应用场景。

### 3. **ASIC（专用集成电路）**
在一些高性能、大批量生产的潜标系统中，可能会使用到为特定应用设计的ASIC。这类芯片可以针对FFT等特定的信号处理操作进行优化，提供最高的性能和能效比。不过，ASIC的设计和生产成本较高，且不具备FPGA那样的灵活性。

### 4. **通用处理器（如ARM处理器）**
在一些低成本或低功耗的潜标系统中，也可能使用通用处理器（如基于ARM架构的处理器）来执行FFT操作。虽然通用处理器在执行FFT等专用任务时的效率不如FPGA、DSP或ASIC，但它们提供了良好的灵活性和成本效益，特别是在集成度高、功耗要求严格的应用场景中。

### 选择依据
选择哪种类型的芯片来执行FFT操作，通常基于以下因素考虑：
- **性能需求**：处理速度和实时性要求。
- **功耗限制**：设备的能源消耗要求。
- **成本考虑**：项目预算和单位成本。
- **灵活性与可重配置性**：算法或应用场景可能变化的灵活性需求。
- **开发周期**：从设计到实现的时间要求。

在实际应用中，FPGA和DSP由于其出色的处理能力和相对较好的能效比，被广泛应用于潜标系统中的信号预处理阶段。



##待验证

- 听听这些噪声：柴油机运转声、螺旋桨旋转声、空泡噪声、水流过艇体的声音 

